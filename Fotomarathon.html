<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FOTOMARATHON</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f9;
      margin: 0;
      padding: 0;
    }
    .logo {
      width: 100%;
      display: block;
    }
    .container {
      max-width: 500px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-top: 10px;
    }
    h2 {
      text-align: center;
    }
    .instructions {
      background: #eef;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 14px;
    }
    .rules-title {
      text-align: center;
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 10px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin: 10px 0;
      display: flex;
      align-items: center;
    }
    input[type="checkbox"] {
      transform: scale(1.5);
      margin-right: 12px;
    }
    label {
      font-size: 16px;
    }
    #timerDisplay {
      font-size: 18px;
      font-weight: bold;
      margin-top: 10px;
    }
    #startTimerBtn {
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
    }
    #startTimerBtn:hover {
      background-color: #45a049;
    }
    .timer-container {
      text-align: center;
      margin-bottom: 15px;
    }
    /* Progressbar */
    .progress-container {
      background-color: #ddd;
      border-radius: 10px;
      overflow: hidden;
      height: 20px;
      margin-bottom: 15px;
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background-color: #4CAF50;
      text-align: center;
      color: white;
      line-height: 20px;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <img src="NORDLO.png" alt="Logo" class="logo">
  <div class="container">
    <h2>FOTOMARATHON</h2>
    <h2>Lloret de Mar</h2>

    <!-- Timer -->
    <div class="timer-container">
      <button id="startTimerBtn">Starta timer (75 min)</button>
      <div id="timerDisplay">75:00</div>
    </div>

    <!-- Progressbar -->
    <div class="progress-container">
      <div id="progressBar" class="progress-bar">0%</div>
    </div>

    <div class="instructions">
      <div class="rules-title">REGLER</div>
      <p>- Alla i laget ska synas på alla bilderna.</p>
      <p>- En person måste alltid utföra samma sak på alla bilder. Gapa/sträcka upp händerna/stå åt fel håll eller nåt annat fyndigt.</p>
      <p>- Laget måste vara tillbaka exakt 75 minuter efter att startsignalen går.</p>
      <p>(Fotobevis krävs: Gruppbild framför scenen med klockslag synligt.)</p>
    </div>

    <ul id="checklist"></ul>
  </div>

  <script>
    // Timer
    let timer;
    let totalSeconds = 75 * 60; // 75 minuter

    function updateTimerDisplay(seconds) {
      const min = Math.floor(seconds / 60);
      const sec = seconds % 60;
      document.getElementById('timerDisplay').innerText = `${min.toString().padStart(2,'0')}:${sec.toString().padStart(2,'0')}`;
    }

    document.getElementById('startTimerBtn').addEventListener('click', () => {
      clearInterval(timer);
      totalSeconds = 75 * 60;
      updateTimerDisplay(totalSeconds);

      timer = setInterval(() => {
        totalSeconds--;
        updateTimerDisplay(totalSeconds);

        if (totalSeconds <= 0) {
          clearInterval(timer);
          alert("Tiden är slut! Alla måste vara tillbaka!");
        }
      }, 1000);
    });

    // Checklist
    const items = [
      'Den minsta platsen där de alla får plats för en gruppbild',
      'Vi bygger något tillsammans (fri tolkning. Gör en pyramid eller bygg ett sandslott eller hitta en byggarbetsplats.)',
      'Oväntad vänskap',
      'Alla i laget gör samma sak samtidigt (tex Alla i luften eller liknande)',
      'En “olycka” på semestern',
      'Havstema',
      'Före & efter – ta två bilder bredvid varandra: en “seriös affärsbild” och en “semesterbild” på samma plats.',
      'Skriv NORDLO i sanden på stranden och ta en gruppbild',
      'Kläm ihop nåt jättestort',
      'Det minsta och största de hittar, som ryms i en hand',
      'Gör honnör framför en fontän',
      'Krama en palm',
      'Gör tummen upp framför Iglesia de San Román',
      'Turistfällan – posera framför något helt vardagligt (t.ex. en soptunna) som om det vore stadens största sevärdhet',
      'Alla är vända bort från kameran',
      'Ta kort på en katt/hund',
      'En jokerbild som de själva hittar på – men de måste kunna förklara hur den visar samarbete.',
      'Peta på en motorcykel. En ska se glad ut, alla andra ska vara förskräckta'
    ];

    const checklist = document.getElementById('checklist');
    const progressBar = document.getElementById('progressBar');

    function updateProgress() {
      const total = items.length;
      const checked = document.querySelectorAll('#checklist input[type="checkbox"]:checked').length;
      const percent = Math.round((checked / total) * 100);
      progressBar.style.width = percent + '%';
      progressBar.innerText = percent + '%';
    }

    items.forEach((item, index) => {
      const li = document.createElement('li');
      const checkbox = document.createElement('input');
      const label = document.createElement('label');

      checkbox.type = 'checkbox';
      checkbox.id = `task${index+1}`;

      if (localStorage.getItem(checkbox.id) === 'true') {
        checkbox.checked = true;
      }

      checkbox.addEventListener('change', () => {
        localStorage.setItem(checkbox.id, checkbox.checked);
        updateProgress();
      });

      label.htmlFor = checkbox.id;
      label.innerText = item;

      li.appendChild(checkbox);
      li.appendChild(label);
      checklist.appendChild(li);
    });

    // Initiera progress på start
    updateProgress();
  </script>
</body>
</html>
