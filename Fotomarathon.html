<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FOTOMARATHON</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f9;
      margin: 0;
      padding: 0;
    }
    .logo {
      width: 100%;
      display: block;
    }
    .container {
      max-width: 500px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-top: 10px;
    }
    h2 {
      text-align: center;
    }
    .instructions {
      background: #eef;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 14px;
    }
    .rules-title {
      text-align: center;
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 10px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin: 10px 0;
      display: flex;
      align-items: center;
    }
    input[type="checkbox"] {
      transform: scale(1.5);
      margin-right: 12px;
    }
    label {
      font-size: 16px;
    }
    .timer-container {
      text-align: center;
      margin: 20px 0;
    }
    #timerDisplay {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 10px;
    }
    button {
      font-size: 16px;
      padding: 8px 16px;
      margin: 5px;
      cursor: pointer;
      border-radius: 6px;
      border: 1px solid #333;
      background-color: #ddd;
    }
    button:hover {
      background-color: #ccc;
    }
  </style>
</head>
<body>
  <img src="NORDLO.png" alt="Logo" class="logo">
  <div class="container">
    <h2>FOTOMARATHON</h2>
    <h2>Lloret de Mar</h2>
    <div class="instructions">
      <div class="rules-title">REGLER</div>
      <p>- Alla i laget ska synas på alla bilderna.</p>
      <p>- En person måste alltid utföra samma sak på alla bilder. Gapa/sträcka upp händerna/stå åt fel håll eller nåt annat fyndigt.</p>
      <p>- Laget måste vara tillbaka exakt 75 minuter efter att startsignalen går.</p>
      <p>(Fotobevis krävs: Gruppbild framför scenen med klockslag synligt.)</p>
    </div>

    <div class="timer-container">
      <div id="timerDisplay">75:00</div>
      <button id="startTimerBtn">Starta timer</button>
      <button id="resetTimerBtn">Nollställ timer</button>
    </div>

    <ul id="checklist"></ul>
  </div>

  <script>
    // ====== Checklistan ======
    const items = [
      'Den minsta platsen där de alla får plats för en gruppbild',
      'Vi bygger något tillsammans (fri tolkning. Gör en pyramid eller bygg ett sandslott eller hitta en byggarbetsplats.)',
      'Oväntad vänskap',
      'Alla i laget gör samma sak samtidigt (tex Alla i luften eller liknande)',
      'En “olycka” på semestern',
      'Havstema',
      'Före & efter – ta två bilder bredvid varandra: en “seriös affärsbild” och en “semesterbild” på samma plats.',
      'Skriv NORDLO i sanden på stranden och ta en gruppbild',
      'Kläm ihop nåt jättestort',
      'Det minsta och största de hittar, som ryms i en hand',
      'Gör honnör framför en fontän',
      'Krama en palm',
      'Gör tummen upp framför Iglesia de San Román',
      'Turistfällan – posera framför något helt vardagligt (t.ex. en soptunna) som om det vore stadens största sevärdhet',
      'Alla är vända bort från kameran',
      'Ta kort på en katt/hund',
      'En jokerbild som de själva hittar på – men de måste kunna förklara hur den visar samarbete.',
      'Peta på en motorcykel. En ska se glad ut, alla andra ska vara förskräckta'
    ];

    const checklist = document.getElementById('checklist');

    items.forEach((item, index) => {
      const li = document.createElement('li');
      const checkbox = document.createElement('input');
      const label = document.createElement('label');

      checkbox.type = 'checkbox';
      checkbox.id = `task${index+1}`;

      // Ladda sparad status
      if (localStorage.getItem(checkbox.id) === 'true') {
        checkbox.checked = true;
      }

      checkbox.addEventListener('change', () => {
        localStorage.setItem(checkbox.id, checkbox.checked);
      });

      label.htmlFor = checkbox.id;
      label.innerText = item;

      li.appendChild(checkbox);
      li.appendChild(label);
      checklist.appendChild(li);
    });

    // ====== Timer ======
    const timerDisplay = document.getElementById('timerDisplay');
    const startBtn = document.getElementById('startTimerBtn');
    const resetBtn = document.getElementById('resetTimerBtn');

    let totalDuration = 75 * 60 * 1000; // 75 minuter
    let timer;
    
    function updateTimer(secondsLeft) {
      const minutes = Math.floor(secondsLeft / 60);
      const seconds = secondsLeft % 60;
      timerDisplay.innerText = `${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
    }

    function startTimer() {
      let startTime = localStorage.getItem('timerStart');
      if (!startTime) {
        startTime = Date.now();
        localStorage.setItem('timerStart', startTime);
      }

      timer = setInterval(() => {
        const elapsed = Date.now() - startTime;
        let remaining = Math.ceil((totalDuration - elapsed)/1000);

        if (remaining <= 0) {
          remaining = 0;
          clearInterval(timer);
        }

        updateTimer(remaining);
      }, 1000);
    }

    function resetTimer() {
      clearInterval(timer);
      localStorage.removeItem('timerStart');
      updateTimer(totalDuration/1000);
    }

    startBtn.addEventListener('click', startTimer);
    resetBtn.addEventListener('click', resetTimer);

    // Om sidan laddas, fortsätt timer om den redan startats
    const savedStart = localStorage.getItem('timerStart');
    if (savedStart) {
      startTimer();
    } else {
      updateTimer(totalDuration/1000);
    }
  </script>
</body>
</html>
